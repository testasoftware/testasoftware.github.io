{"componentChunkName":"component---src-pages-blog-markdown-remark-frontmatter-slug-tsx","path":"/blog/2017-07-27-vim-survival-guide/","result":{"data":{"markdownRemark":{"html":"<p>For those unfamiliar, Vim is a console screen-based text editor. Vim is a clone of the Vi editor and stands for \"Vi IMproved\". It is free, open-source, and quite powerful indeed. It has some elegant features that many other editors lack. Leveraging features like motions and text objects can perform complex operations in few keystrokes making for a fast and productive workflow.<!--more--> Additionally, Vim has a vibrant community that develop plugins to extend functionality beyond just a text editor.</p>\n<p>Please note that it is not my goal to convert you to developing solely on Vim, but with the ubiquity of Linux across cloud computing, Windows Subsystem for Linux, and the fact that git uses it as the default editor, the odds of encountering Vim as a developer are high. The catch is that Vim's editing paradigms are different than most graphical editors. The intuitions developed in gui-based programs don't translate into a terminal editor and therefore Vim is often perceived as being difficult or having a high learning curve. However, with a minimal amount of knowledge and effort, Vim quickly becomes comfortable and is often described as being able to \"speak\" to the editor.</p>\n<p>Working comfortably and efficiently in Vim means learning a few basic concepts and commands. I'll attempt to cover some of the features I have found most useful to provide a solid foundation in Vim. There is a lot to learn and it depends on the individual circumstance, but it is often worth it to spend extra effort learning advanced concepts, installing plugins, and configuring the editor for convenience and speed.</p>\n<p><strong>Quick Tip:</strong> your first Vim steps can also be taken by running <code class=\"language-text\">vimtutor</code> from the command line on any system where Vim is installed. It will bring up the built-in Vim tutorial where you can practice any of the commands and concepts you might need.</p>\n<h2>Basic Survival</h2>\n<p>If you're just trying to understand how to edit your git commits and get out, here's what you need to make it out of the Vim editor alive.</p>\n<ul>\n<li>Vim starts in Normal mode, it's for issuing commands not typing text to the screen</li>\n<li>Press <code class=\"language-text\">i</code> to enter Insert mode. You should see \"-- INSERT --\" displayed at the bottom left corner of the console. In Insert mode you can update text as you would normally expect, use the arrow keys to move around.</li>\n<li>Press <code class=\"language-text\">[Esc]</code> to exit Insert mode and return to Normal mode, the \"-- INSERT --\" will disappear</li>\n<li>Type <code class=\"language-text\">:wq</code> to \"write\" the change and \"quit\" the editor. This is equivalent to saving a file and closing the window in a gui-based editor.</li>\n</ul>\n<p>Vim can get tricky if things are going wonky. If you're in a bind you have a couple easy options:</p>\n<ol>\n<li><strong>Undo all the changes made</strong>: Type <code class=\"language-text\">[Esc]</code> to return to Normal Mode (Vim's default mode) and then press the <code class=\"language-text\">u</code> key to undo your changes as far as you need. Once you've undone everything feel free to start again with the <code class=\"language-text\">i</code> to re-enter Insert mode and try again.</li>\n</ol>\n<ol start=\"2\">\n<li><strong>Quit the editor without saving</strong>: Again, make sure to return to Normal mode using the <code class=\"language-text\">[Esc]</code> key and type <code class=\"language-text\">:q!</code> which will quit Vim while explicitly indicating that any changes made will be lost.</li>\n</ol>\n<p>That should be enough Vim knowledge to update some Git commit messages, but if you're interested let dig into a few of the concepts..</p>\n<h3>Modal Editing</h3>\n<p>Modal editing is the first stumbling block for most people. It was mentioned in passing, but Vim uses the concept of \"modes\" to split up functionality into logical groupings. There are several modes and using Vim requires knowing what the individual modes are for and how to switch between them. The common intuition is to be able to start typing and for text to appear on the screen. That can certainly In Vim, however, the default mode at startup is Normal mode which instead interprets most key presses as editor commands. Insert mode would instead be chosen to insert new text.</p>\n<p>I highly recommed checking out out the following short video. It convers the topic of Modal Editing and the power of Vim's Motion system. It's from a site called <a href=\"https://vimcasts.org\">Vim Casts</a> which is a phenomenal resource to continue learning Vim concepts in easily digestable bites. It explaions the purpose behind modal editing and should start to give you an appreciation of just how and why Vim is such a powerful editor and a favorite of many.</p>\n<p><a href=\"http://vimcasts.org/episodes/modal-editing-undo-redo-and-repeat/\">Vim Casts - Modal Editing: undo, redo and repeat</a></p>\n<h3>Commands</h3>\n<p>A lot of commands may look hard to memorize, but once you learn the \"language\" of Vim it becomes easier and intuitive to understand with very little memorization. We'll go over this more in the next section. For now here's a list of some basic commands as reference.</p>\n<p><strong>Modes</strong></p>\n<p><code class=\"language-text\">[Esc]</code>\t- Normal Mode<br>\n<code class=\"language-text\">i</code>\t\t- Insert Mode<br>\n<code class=\"language-text\">v</code>\t\t- Visual Mode</p>\n<p><strong>Movement</strong></p>\n<p>Arrow keys can be used to navigate the screen, but part of the Vim philosophy is that your hands and fingers should not need to travel far.</p>\n<p><code class=\"language-text\">h</code> - move cursor left<br>\n<code class=\"language-text\">j</code> - move cursor down<br>\n<code class=\"language-text\">k</code> - move cursor up<br>\n<code class=\"language-text\">l</code> - move cursor right</p>\n<p><code class=\"language-text\">0</code> - beginning of line<br>\n<code class=\"language-text\">$</code> - end of line</p>\n<p><code class=\"language-text\">gg</code> - top of file<br>\n<code class=\"language-text\">G</code> - end of file</p>\n<p><code class=\"language-text\">w</code> - move to start of the next word<br>\n<code class=\"language-text\">b</code> - move to the start of the last word</p>\n<p><strong>Editing</strong></p>\n<p><code class=\"language-text\">.</code> - repeat last command</p>\n<p><code class=\"language-text\">r</code> - replace character under the cursor<br>\n<code class=\"language-text\">cc</code> - change (replace) the entire line<br>\n<code class=\"language-text\">ciw</code> - change (replace) the entire word</p>\n<p><code class=\"language-text\">yy</code> = yank (copy) line<br>\n<code class=\"language-text\">yiw</code> = yank (copy) word<br>\n<code class=\"language-text\">p</code> = put (paste) after the cursor<br>\n<code class=\"language-text\">dd</code> = delete (cut) line<br>\n<code class=\"language-text\">diw</code> = delete (cut) word<br>\n<code class=\"language-text\">x</code> = delete character</p>\n<p><code class=\"language-text\">>></code> - indent text<br>\n<code class=\"language-text\">&lt;&lt;</code> - de-indent text</p>\n<p><strong>Insert Mode</strong></p>\n<p>These commands will perform an action and simulataneously put Vim into Insert mode in a single motion.</p>\n<p><code class=\"language-text\">i</code> - insert<br>\n<code class=\"language-text\">a</code> - append after the cursor<br>\n<code class=\"language-text\">A</code> - append at the end of the line<br>\n<code class=\"language-text\">o</code> - append a new line below the current line<br>\n<code class=\"language-text\">O</code> - append a new line above the current line</p>\n<p><strong>Search and Replace</strong></p>\n<p><code class=\"language-text\">/pattern</code> - search for a pattern<br>\n<code class=\"language-text\">n</code> - repeat the search in the same direction<br>\n<code class=\"language-text\">N</code> - repeat the search in the opposite direction<br>\n<code class=\"language-text\">:noh</code> - remove highlighting</p>\n<p><strong>Saving and Exiting</strong></p>\n<p><code class=\"language-text\">:w</code> - write (save) the file<br>\n<code class=\"language-text\">:wq</code> - write (save) the file and exit<br>\n<code class=\"language-text\">:q</code> - quit, will fail if there are unsaved changes<br>\n<code class=\"language-text\">:q!</code> - quit, ignore unsaved changes\n<code class=\"language-text\">:qa!</code> - quit all files and ignore unsaved changes\n<code class=\"language-text\">:wqa</code> - save and quit all files</p>\n<h2>Speaking the Language</h2>\n<p>Instead of memorizing commands, really you should be looking at Vim commands in terms of \"verb modifier object\" syntax. This is syntax is what will allow you to \"speak\" to the editor.</p>\n<p><strong>Verbs</strong></p>\n<p>Hopefully the idea of a verb is pretty self-explanatory. It's the desired action.</p>\n<p><code class=\"language-text\">c</code> - change<br>\n<code class=\"language-text\">d</code> - delete (cut)<br>\n<code class=\"language-text\">y</code> - yank (copy)</p>\n<p><strong>Modifiers</strong></p>\n<p>Modifiers modify the way in which the object we're targeting is being selected.</p>\n<p><code class=\"language-text\">i</code> - inside<br>\n<code class=\"language-text\">a</code> - around<br>\n<code class=\"language-text\">t</code> - 'till (until a charater)<br>\n<code class=\"language-text\">f</code> - find (like 'till, but includes the found character)</p>\n<p><strong>Objects</strong></p>\n<p>The target object we're trying to select.</p>\n<p><code class=\"language-text\">w</code> - word<br>\n<code class=\"language-text\">s</code> - sentence<br>\n<code class=\"language-text\">p</code> - paragraph<br>\n<code class=\"language-text\">t</code> - tag</p>\n<p>Combining these into a single command/motion looks something like the following.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token comment\"># Example: We want to `delete` a word when the cursor is  </span>\n<span class=\"token comment\"># currently hovered over *any* part of that word. To  </span>\n<span class=\"token comment\"># accomplish this we would need to leverage the `inside` </span>\n<span class=\"token comment\"># modifer of the `word` object. </span>\n\ndiw</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token comment\"># Example: We want to `change` the text `inside` some </span>\n<span class=\"token comment\"># double quotes.</span>\n\nci\"</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>We can even combine quantities and movement.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token comment\"># Example: We want to copy the next 3 lines </span>\n<span class=\"token comment\"># We would `yank` the next `3` lines `downward` </span>\n\ny3j</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>We can push the usefulness of this system even further with a few Vim plugins.</p>\n<h2>Plugins and Configuration</h2>\n<p>Vim 8 has native support for plugins, but it can also be a good idea to pick a plugin manager. Personally, I use <a href=\"https://github.com/junegunn/vim-plug\">vim-plug</a>. It's minimal and easy to use. There are, however, plenty of great options out there including managers like <a href=\"https://github.com/VundleVim/Vundle.vim\">vundle</a> and <a href=\"https://github.com/tpope/vim-pathogen\">pathogen</a>. Pick your poison, follow their setup instructions, and find some cool plugins... I've got a few to get you started.</p>\n<p><a href=\"https://github.com/tpope/vim-sensible\">vim-sensible</a> will help get you setup with a sensible set of vim defaults. This is a great place to start, especially if you're a beginner.</p>\n<p><a href=\"https://github.com/tpope/vim-surround\">vim-surround</a> adds the \"surrounding\" modifier to your Vim syntax. It makes for a beautiful way to operate on text objects and their surrounding objects (like quotes or html tags). Checkout their git readme for some examples of just how powerful this plugin actually is.</p>\n<p><a href=\"https://github.com/tpope/vim-commentary\">vim-commentary</a> is a plugin that make commenting a lot nicer. You can comment and uncomment entire lines or can be used in conjunction with motions to target more complex objects and structures.</p>\n<p><a href=\"https://github.com/preservim/nerdtree\">nerdtree</a> an awesome file tree explorer for Vim (think of the Explorer panel in VS Code). It is packed with a lot of extra functionality to quickly perform actions on the files displayed.</p>\n<p>There are even more plugins out there that add even more text objects.</p>\n<p><a href=\"http://vimcasts.org/episodes/working-with-buffers/\">http://vimcasts.org/episodes/working-with-buffers/</a><br>\n<a href=\"http://vimcasts.org/episodes/working-with-windows/\">http://vimcasts.org/episodes/working-with-windows/</a></p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token comment\"># vim config file</span>\n~/.vimrc\n\n<span class=\"token comment\"># nvim config file</span>\n~/.config/nvim/init.vim</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>This setting became really helpful when I started getting on board with using Vim and numbers as modifiers.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token builtin class-name\">set</span> number relative</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>This makes moving between windows in Vim a little more intuitive. Use Ctrl + Direction to move between windows. I use this along with a corresponding tmux binding to get really fluid and seamless movements between Vim and tmux when I've got a working session going. I use a set up simliar to this one: <a href=\"https://www.bugsnag.com/blog/tmux-and-vim\">Tmux and Vim - even better together</a>.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">nnoremap <span class=\"token operator\">&lt;</span>C-J<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>C-W<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>C-J<span class=\"token operator\">></span>\nnnoremap <span class=\"token operator\">&lt;</span>C-K<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>C-W<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>C-K<span class=\"token operator\">></span>\nnnoremap <span class=\"token operator\">&lt;</span>C-L<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>C-W<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>C-L<span class=\"token operator\">></span>\nnnoremap <span class=\"token operator\">&lt;</span>C-H<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>C-W<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>C-H<span class=\"token operator\">></span>\n\n<span class=\"token builtin class-name\">set</span> splitbelow\n<span class=\"token builtin class-name\">set</span> splitright</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Configure Ctrl + S to write (save) a file.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">nnoremap <span class=\"token operator\">&lt;</span>C-s<span class=\"token operator\">></span> :w<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\ninoremap <span class=\"token operator\">&lt;</span>C-s<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>Esc<span class=\"token operator\">></span>:w<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>Configure the Alt + Up/Down (j,k) keys to move entire lines. Note this will configure that keybinding for Normal, Insert, and Visual modes.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">nnoremap <span class=\"token operator\">&lt;</span>A-j<span class=\"token operator\">></span> :m .+<span class=\"token operator\"><span class=\"token file-descriptor important\">1</span>&lt;</span>CR<span class=\"token operator\">>=</span><span class=\"token operator\">=</span>\nnnoremap <span class=\"token operator\">&lt;</span>A-k<span class=\"token operator\">></span> :m .-<span class=\"token operator\"><span class=\"token file-descriptor important\">2</span>&lt;</span>CR<span class=\"token operator\">>=</span><span class=\"token operator\">=</span>\ninoremap <span class=\"token operator\">&lt;</span>A-j<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>Esc<span class=\"token operator\">></span>:m .+<span class=\"token operator\"><span class=\"token file-descriptor important\">1</span>&lt;</span>CR<span class=\"token operator\">>=</span><span class=\"token operator\">=</span>gi\ninoremap <span class=\"token operator\">&lt;</span>A-k<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>Esc<span class=\"token operator\">></span>:m .-<span class=\"token operator\"><span class=\"token file-descriptor important\">2</span>&lt;</span>CR<span class=\"token operator\">>=</span><span class=\"token operator\">=</span>gi\nvnoremap <span class=\"token operator\">&lt;</span>A-j<span class=\"token operator\">></span> :m <span class=\"token string\">'>+1&lt;CR>gv=gv\nvnoremap &lt;A-k> :m '</span><span class=\"token operator\">&lt;</span>-<span class=\"token operator\"><span class=\"token file-descriptor important\">2</span>&lt;</span>CR<span class=\"token operator\">></span>gv<span class=\"token operator\">=</span>gv</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>If you'd like to take a peek at <a href=\"https://raw.githubusercontent.com/stesta/dotfiles/master/.config/nvim/init.vim\" class=\"text-info\">my vim configuration</a> feel free. Note that I use Neovim (an alternative to the version of Vim maintained by Bram Moolenaar), but the syntax should be the same or really close to it for a regular .vimrc file. At the very least this will give an idea of how to go about starting to customize your own instance of Vim.</p>","frontmatter":{"date":"August 18, 2021","slug":"2017-07-27-vim-survival-guide","title":"Vim Survival Guide","image":"/assets/images/blog/vim-tmux.png"}}},"pageContext":{"id":"4a97682b-7ede-5802-ae37-302c7e785472","frontmatter__slug":"2017-07-27-vim-survival-guide","__params":{"frontmatter__slug":"2017-07-27-vim-survival-guide"}}},"staticQueryHashes":[]}